<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `solvent` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, solvent">

    <title>solvent - Rust</title>

    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        
        <p class='location'></p>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press 'S' to search, '?' for more options..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>solvent</a><wbr></span><span class='out-of-band'><a href='stability.html'>[stability]</a> <span id='render-detail'>
            <a id="collapse-all" href="#">[-]
            </a>&nbsp;<a id="expand-all" href="#">[+]</a>
        </span><a id='src-0' href='../src/solvent/lib.rs.html#1-356'>[src]</a></span></h1>
<div class='docblock'><p>Solvent is a dependency resolver library written in rust.</p>

<p>Solvent helps you to resolve dependency orderings by building up a dependency
graph and then resolving the dependences of some target node in an order such
that each output depends only upon the previous outputs.</p>

<p>It is currently quite simple, but is still useful.</p>

<h1 id="example" class='section-header'><a
                           href="#example">Example</a></h1><pre id='rust-example-rendered' class='rust '>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>solvent</span>;

<span class='kw'>use</span> <span class='ident'>solvent</span>::<span class='ident'>DepGraph</span>;

<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='comment'>// Create a new empty DepGraph.  Must be `mut` or else it cannot</span>
    <span class='comment'>// be used by the rest of the library.</span>
    <span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>depgraph</span>: <span class='ident'>DepGraph</span> <span class='op'>=</span> <span class='ident'>DepGraph</span>::<span class='ident'>new</span>();

    <span class='comment'>// You can register a dependency like this.  Solvent will</span>
    <span class='comment'>// automatically create nodes for any term it has not seen before.</span>
    <span class='comment'>// This means &#39;b&#39; depends on &#39;d&#39;</span>
    <span class='ident'>depgraph</span>.<span class='ident'>register_dependency</span>(<span class='string'>&quot;b&quot;</span>,<span class='string'>&quot;d&quot;</span>);

    <span class='comment'>// You can also register multiple dependencies at once</span>
    <span class='ident'>depgraph</span>.<span class='ident'>register_dependencies</span>(<span class='string'>&quot;a&quot;</span>,<span class='kw-2'>&amp;</span>[<span class='string'>&quot;b&quot;</span>,<span class='string'>&quot;c&quot;</span>,<span class='string'>&quot;d&quot;</span>]);
    <span class='ident'>depgraph</span>.<span class='ident'>register_dependencies</span>(<span class='string'>&quot;c&quot;</span>,<span class='kw-2'>&amp;</span>[<span class='string'>&quot;e&quot;</span>]);

    <span class='comment'>// Iterate through each dependency of &quot;a&quot;.  The dependencies will be</span>
    <span class='comment'>// returned in an order such that each output only depends on the</span>
    <span class='comment'>// previous outputs (or nothing).  The target itself will be output</span>
    <span class='comment'>// last.</span>
    <span class='kw'>for</span> <span class='ident'>node</span> <span class='kw'>in</span> <span class='ident'>depgraph</span>.<span class='ident'>dependencies_of</span>(<span class='string'>&quot;a&quot;</span>) {
        <span class='macro'>print</span><span class='macro'>!</span>(<span class='string'>&quot;{} &quot;</span>, <span class='ident'>node</span>.<span class='ident'>unwrap</span>());
    }
}
</pre>

<p>The above will output:  <code>d b e c a</code> or <code>e c d b a</code> or some other valid
dependency order.</p>

<p>The algorithm is not deterministic, and may give a different answer each
time it is run.  Beware.</p>

<p>The iterator dependencies_of() returns an Option<Result<String,SolventError>&gt;.
The for loop handles the Option part for you, but you may want to check the
result for SolventErrors.  Once an error is returned, all subsequent calls to
the iterator next() will yield None.</p>

<p>You can also mark some elements as already satisfied, and the iterator
will take that into account:</p>
<pre id='rust-example-rendered' class='rust '>
<span class='ident'>depgraph</span>.<span class='ident'>mark_as_satisfied</span>([<span class='string'>&quot;e&quot;</span>,<span class='string'>&quot;c&quot;</span>]);
</pre>

<p>Dependency cycles are detected and will return SolventError::CycleDetected.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                    <tr>
                        <td><a class='stability Unmarked' title='No stability level'></a><a class='struct' href='struct.DepGraph.html'
                               title='solvent::DepGraph'>DepGraph</a></td>
                        <td class='docblock short'><p>This is the dependency graph.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='stability Unmarked' title='No stability level'></a><a class='struct' href='struct.DepGraphIterator.html'
                               title='solvent::DepGraphIterator'>DepGraphIterator</a></td>
                        <td class='docblock short'><p>This iterates through the dependencies of the DepGraph&#39;s target</p>
</td>
                    </tr>
                </table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                    <tr>
                        <td><a class='stability Unmarked' title='No stability level'></a><a class='enum' href='enum.SolventError.html'
                               title='solvent::SolventError'>SolventError</a></td>
                        <td class='docblock short'></td>
                    </tr>
                </table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&larrb;</dt>
                <dd>Move up in search results</dd>
                <dt>&rarrb;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code>, <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "solvent";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script async src="../search-index.js"></script>
</body>
</html>